<section class="lider">
  <div class="lider-card4">
    <div class="lider-card4-text">
      <p><span></span>Institut direktori</p>
      <h3>Allabergenov Anvar Alimbayevich</h3>

      <div class="lider-card4-text-link">
        <a href="tel:+998555165451"><i class="i-phone"></i>+99855-516-54-51</a>
        <a href="mailto:a.allabergenov@mmtri.uz"><i class="i-maile"></i>a.allabergenov@mmtri.uz</a>
        <a href="#"><i class="i-calendar"></i>Dushanba 09:00 - 18:00</a>
      </div>

      <div class="lider-top"></div>

      <div class="lider-card2-text-btn">
        <button class="toggle-btn" type="button" data-target="vazifa">Vazifalari<i class="i-dropdown"></i></button>
        <button class="toggle-btn" type="button" data-target="bio">Biografiyasi<i class="i-dropdown"></i></button>
      </div>
    </div>

    <img src="../../images/qoshma-2.svg" alt="" class="lider-card4-gerb">
    <div class="lider-card4-line"></div>
    <img src="../../images/Direktor.png" alt="" class="lider-card4-img">
  </div>

  <div class="lider-details-wrapper">
    <div class="lider-details" data-id="vazifa">
      <h5>Vazifalari</h5>
      <div class="lider-card-text-top"></div>
      <ul>
        <li>Vazifa 1</li>
        <li>Vazifa 2</li>
      </ul>
    </div>

    <div class="lider-details" data-id="bio">
      <h5>Biografiyasi</h5>
      <div class="lider-card-text-top"></div>
      <p>Biografiya matni...</p>
    </div>
  </div>

  <div class="lider-card4">
    <div class="lider-card4-text">
      <p><span></span>Institut direktori</p>
      <h3>Allabergenov Anvar Alimbayevich</h3>

      <div class="lider-card4-text-link">
        <a href="tel:+998555165451"><i class="i-phone"></i>+99855-516-54-51</a>
        <a href="mailto:a.allabergenov@mmtri.uz"><i class="i-maile"></i>a.allabergenov@mmtri.uz</a>
        <a href="#"><i class="i-calendar"></i>Dushanba 09:00 - 18:00</a>
      </div>

      <div class="lider-top"></div>

      <div class="lider-card2-text-btn">
        <button class="toggle-btn" type="button" data-target="vazifa">Vazifalari<i class="i-dropdown"></i></button>
        <button class="toggle-btn" type="button" data-target="bio">Biografiyasi<i class="i-dropdown"></i></button>
      </div>
    </div>

    <img src="../../images/qoshma-2.svg" alt="" class="lider-card4-gerb">
    <div class="lider-card4-line"></div>
    <img src="../../images/Direktor.png" alt="" class="lider-card4-img">
  </div>

  <div class="lider-details-wrapper">
    <div class="lider-details" data-id="vazifa">
      <h5>Vazifalari</h5>
      <div class="lider-card-text-top"></div>
      <ul>
        <li>Vazifa 1</li>
        <li>Vazifa 2</li>
      </ul>
    </div>

    <div class="lider-details" data-id="bio">
      <h5>Biografiyasi</h5>
      <div class="lider-card-text-top"></div>
      <p>Biografiya matni...</p>
    </div>
  </div>

  <div class="lider-card4">
    <div class="lider-card4-text">
      <p><span></span>Institut direktori</p>
      <h3>Allabergenov Anvar Alimbayevich</h3>

      <div class="lider-card4-text-link">
        <a href="tel:+998555165451"><i class="i-phone"></i>+99855-516-54-51</a>
        <a href="mailto:a.allabergenov@mmtri.uz"><i class="i-maile"></i>a.allabergenov@mmtri.uz</a>
        <a href="#"><i class="i-calendar"></i>Dushanba 09:00 - 18:00</a>
      </div>

      <div class="lider-top"></div>

      <div class="lider-card2-text-btn">
        <button class="toggle-btn" type="button" data-target="vazifa">Vazifalari<i class="i-dropdown"></i></button>
        <button class="toggle-btn" type="button" data-target="bio">Biografiyasi<i class="i-dropdown"></i></button>
      </div>
    </div>

    <img src="../../images/qoshma-2.svg" alt="" class="lider-card4-gerb">
    <div class="lider-card4-line"></div>
    <img src="../../images/Direktor.png" alt="" class="lider-card4-img">
  </div>

  <div class="lider-details-wrapper">
    <div class="lider-details" data-id="vazifa">
      <h5>Vazifalari</h5>
      <div class="lider-card-text-top"></div>
      <ul>
        <li>Vazifa 1</li>
        <li>Vazifa 2</li>
      </ul>
    </div>

    <div class="lider-details" data-id="bio">
      <h5>Biografiyasi</h5>
      <div class="lider-card-text-top"></div>
      <p>Biografiya matni...</p>
    </div>
  </div>

  <div class="lider-card4">
    <div class="lider-card4-text">
      <p><span></span>Institut direktori</p>
      <h3>Allabergenov Anvar Alimbayevich</h3>

      <div class="lider-card4-text-link">
        <a href="tel:+998555165451"><i class="i-phone"></i>+99855-516-54-51</a>
        <a href="mailto:a.allabergenov@mmtri.uz"><i class="i-maile"></i>a.allabergenov@mmtri.uz</a>
        <a href="#"><i class="i-calendar"></i>Dushanba 09:00 - 18:00</a>
      </div>

      <div class="lider-top"></div>

      <div class="lider-card2-text-btn">
        <button class="toggle-btn" type="button" data-target="vazifa">Vazifalari<i class="i-dropdown"></i></button>
        <button class="toggle-btn" type="button" data-target="bio">Biografiyasi<i class="i-dropdown"></i></button>
      </div>
    </div>

    <img src="../../images/qoshma-2.svg" alt="" class="lider-card4-gerb">
    <div class="lider-card4-line"></div>
    <img src="../../images/Direktor.png" alt="" class="lider-card4-img">
  </div>

  <div class="lider-details-wrapper">
    <div class="lider-details" data-id="vazifa">
      <h5>Vazifalari</h5>
      <div class="lider-card-text-top"></div>
      <ul>
        <li>Vazifa 1</li>
        <li>Vazifa 2</li>
      </ul>
    </div>

    <div class="lider-details" data-id="bio">
      <h5>Biografiyasi</h5>
      <div class="lider-card-text-top"></div>
      <p>Biografiya matni...</p>
    </div>
  </div>

  <div class="lider-card4">
    <div class="lider-card4-text">
      <p><span></span>Institut direktori</p>
      <h3>Allabergenov Anvar Alimbayevich</h3>

      <div class="lider-card4-text-link">
        <a href="tel:+998555165451"><i class="i-phone"></i>+99855-516-54-51</a>
        <a href="mailto:a.allabergenov@mmtri.uz"><i class="i-maile"></i>a.allabergenov@mmtri.uz</a>
        <a href="#"><i class="i-calendar"></i>Dushanba 09:00 - 18:00</a>
      </div>

      <div class="lider-top"></div>

      <div class="lider-card2-text-btn">
        <button class="toggle-btn" type="button" data-target="vazifa">Vazifalari<i class="i-dropdown"></i></button>
        <button class="toggle-btn" type="button" data-target="bio">Biografiyasi<i class="i-dropdown"></i></button>
      </div>
    </div>

    <img src="../../images/qoshma-2.svg" alt="" class="lider-card4-gerb">
    <div class="lider-card4-line"></div>
    <img src="../../images/Direktor.png" alt="" class="lider-card4-img">
  </div>

  <div class="lider-details-wrapper">
    <div class="lider-details" data-id="vazifa">
      <h5>Vazifalari</h5>
      <div class="lider-card-text-top"></div>
      <ul>
        <li>Vazifa 1</li>
        <li>Vazifa 2</li>
      </ul>
    </div>

    <div class="lider-details" data-id="bio">
      <h5>Biografiyasi</h5>
      <div class="lider-card-text-top"></div>
      <p>Biografiya matni...</p>
    </div>
  </div>

</section>

<script>
  const buttons = document.querySelectorAll(".toggle-btn");

  function closeAll() {
    document.querySelectorAll(".lider-details-wrapper").forEach((w) => {
      w.style.display = "none";
      w.querySelectorAll(".lider-details").forEach((d) => (d.style.display = "none"));
    });
  }

  buttons.forEach((btn) => {
    btn.addEventListener("click", () => {
      const target = btn.getAttribute("data-target");

      const card =
        btn.closest(".lider-card1") ||
        btn.closest(".lider-card2") ||
        btn.closest(".lider-card3") ||
        btn.closest(".lider-card4");

      if (!card) return;

      const wrapper = card.nextElementSibling;
      if (!wrapper || !wrapper.classList.contains("lider-details-wrapper")) return;

      document.querySelectorAll(".lider-details-wrapper").forEach((w) => {
        if (w !== wrapper) {
          w.style.display = "none";
          w.querySelectorAll(".lider-details").forEach((d) => (d.style.display = "none"));
        }
      });

      const allDetails = wrapper.querySelectorAll(".lider-details");
      const active = wrapper.querySelector(`.lider-details[data-id="${target}"]`);

      if (!active) return;

      allDetails.forEach((d) => {
        if (d !== active) d.style.display = "none";
      });

      wrapper.style.display = "block";

      const isOpen = getComputedStyle(active).display === "block";
      active.style.display = isOpen ? "none" : "block";
      const anyOpen = [...allDetails].some((d) => getComputedStyle(d).display === "block");
      if (!anyOpen) wrapper.style.display = "none";
    });
  });
</script>